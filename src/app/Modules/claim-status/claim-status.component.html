<div class="page-content">
  <div class="vision-card">
    <div class="vision-card-body">
      <div class="recovery-claim-information">
        <div class="recovery-claim-information-item">
          <div class="recovery-claim-information-item-title">
            <span>{{policyInformation?.InsuranceCompanyName}} - Not At Fault</span>
            <div class="flag-green">

            </div>
          </div>
          <div class="recovery-claim-information-item-body">
            <ul class="list-group list-group-flush ">
              <li class="list-group-item">
                <div>Civil Id</div>
                <div>{{policyInformation?.CivilId}}</div>
              </li>
              <li class="list-group-item">
                <div>Chassis No</div>
                <div>{{vehicleInformation?.VehicleChassisNumber}}</div>
              </li>
              <li class="list-group-item">
                <div>Plate Number</div>
                <div>{{vehicleInformation?.PlateCharacter}}-{{vehicleInformation?.PlateNumber}}</div>
              </li>
              <li class="list-group-item">
                <div>Policy Number</div>
                <div>{{policyInformation?.PolicyNumber}}</div>
              </li>
              <li class="list-group-item">
                <div>Policy Start Date</div>
                <div>{{policyInformation?.InsuranceStartDate}}</div>
              </li>
              <li class="list-group-item">
                <div>Policy End Date</div>
                <div>{{policyInformation?.InsuranceEndDate}}</div>
              </li>
              <li class="list-group-item">
                <div>Insurance Type</div>
                <div>{{policyInformation?.InsuranceTypeDesc}}</div>
              </li>
            </ul>
          </div>
        </div>
        <div class="recovery-claim-information-item">
          <div class="recovery-claim-information-item-title">
            <span>{{recoveryInformation?.InsuranceCompanyName}} - At Fault</span>
            <div class="flag-red">

            </div>
          </div>
          <div class="recovery-claim-information-item-body">
            <ul class="list-group list-group-flush ">
              <li class="list-group-item">
                <div>Civil Id</div>
                <div>{{recoveryInformation?.CivilId}}</div>
              </li>
              <li class="list-group-item">
                <div>Chassis No</div>
                <div>{{recoveryInformation?.VehicleChassisNumber}}</div>
              </li>
              <li class="list-group-item">
                <div>Plate Number</div>
                <div>{{recoveryInformation?.PlateCharacter}}-{{recoveryInformation?.PlateNumber}}</div>
              </li>
            </ul>
          </div>
        </div>
        <div class="recovery-claim-information-item recovery-claim-information-status-item">
          <div class="recovery-claim-information-item-title">
            <span>Status Update</span>
            <span>
              <telegram-icon></telegram-icon>
            </span>
          </div>
          <div class="recovery-claim-information-item-body">
            <form [formGroup]="claimStatusForm">
              <div class="d-md-flex flex-md-row mb-2">
                <div class="px-2 flex-fill">
                  <div class="vision-form-control-box">
                    <label class="vision-form-label label-green">Requested Amount</label>
                    <input type="number" class="vision-form-control" formControlName="reqAmount">
                  </div>
                  <ng-container *ngIf="(commonInformation?.Status == 'CREQ' && recoveryType == 'Receivable') || (recoveryType == 'Payable')">
                    <div class="vision-form-control-box">
                      <label class="vision-form-label">Status</label>
                      <select class="vision-form-control" formControlName="claimStatus">
                        <option value="">Select</option>
                        <ng-container *ngFor="let item of claimStatusList">
                          <option value="{{item.StatusCode}}"
                            *ngIf="(item?.StatusCode == 'PED' || item?.StatusCode=='CRES') || (recoveryType == 'Payable')">
                            {{item.StatusDesc}}</option>
                        </ng-container>
                      </select>
                    </div>
                    <div class="vision-form-control-box">
                      <label class="vision-form-label">Remarks</label>
                      <textarea rows="2" class="vision-form-control" formControlName="claimStatusRemarks">
                        </textarea>
                    </div>
                  </ng-container>


                </div>
                <div class="px-2 flex-fill">
                  <div class="vision-form-control-box">
                    <label class="vision-form-label label-red">Accepted Amount</label>
                    <input type="number" class="vision-form-control"  formControlName="acceAmount">
                  </div>
                  <ng-container *ngIf="(commonInformation?.Status == 'CREQ' && recoveryType == 'Receivable') || (recoveryType == 'Payable')">
                    <div class="imag-card my-3" (click)="doc.click()">
                      <input style="display: none;" (change)="onUploadDocuments($event,null,'direct')" type="file" #doc>
                      <div>
                        <div class="center">
                          <b class="text-dark">
                            <mat-icon>library_add</mat-icon><br> Add Documents
                          </b>
                        </div>
                      </div>
                    </div>
                    <ng-container *ngIf="uploadDocList.length!=0">
                      <mat-card class="col-md-3 col-lg-3 col-1 col-sm-2 p-1" *ngFor="let item of uploadDocList">
                        <div class="text-center">
                          <span>{{item.filename}}</span>
                        </div>
                        <div class="imgbox" style="
                                            background-image: url({{item.url}});
                                              background-position: center;
                                              background-repeat: no-repeat;
                                              background-size: cover;
                                              height: 100px;
                                              padding: 2px;">
                        </div>
                        <div class="d-flex justify-content-center">
                          <a mat-raised-button class="mx-1"><i class="far fa-eye mx-1"></i></a>
                          <a mat-raised-button class="mx-1"><i class="far fa-trash-alt"></i></a>
                        </div>
                      </mat-card>
                    </ng-container>
                  </ng-container>

                </div>
              </div>
            </form>
            <ng-container *ngIf="(commonInformation?.Status == 'CREQ' && recoveryType == 'Receivable') || (recoveryType == 'Payable')">
              <div class="text-center my-4">
                <button class="vision-btn blue-bg-color" (click)="onUpdateClaimStatus()">Submit</button>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="recovery-claim-information-item">
          <div class="recovery-claim-information-item-title">
            Basic Information
          </div>
          <div class="recovery-claim-information-item-body">
            <div class="row">
              <div class="col-6">
                <ul class="list-group list-group-flush ">
                  <li class="list-group-item">
                    <div>Make</div>
                    <div>{{vehicleInformation?.VehicleMakeDesc}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Model</div>
                    <div>{{vehicleInformation?.VehicleModelDesc}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Body Type</div>
                    <div>{{vehicleInformation?.VehicleBodyDes}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Color</div>
                    <div>{{vehicleInformation?.ColorDesc}}</div>
                  </li>
                </ul>
              </div>
              <div class="col-6">
                <ul class="list-group list-group-flush ">
                  <li class="list-group-item">
                    <div>Accident Date</div>
                    <div>{{accidentInformation?.AccidentDate}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Accident Location</div>
                    <div>{{accidentInformation?.AccidentLocation}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Accident Description</div>
                    <div>{{accidentInformation?.AccidentDescription}}</div>
                  </li>
                  <li class="list-group-item">
                    <div>Claim Type</div>
                    <div>{{accidentInformation?.ClaimTypeDesc}}</div>
                  </li>

                </ul>
              </div>
              <div class="col-12">
                <div id="demo" class="collapse">
                  <div class="row">
                    <div class="col-6">
                      <ul class="list-group list-group-flush ">
                        <li class="list-group-item">
                          <div>Plate Number</div>
                          <div>{{vehicleInformation?.PlateCharacter}}-{{vehicleInformation?.PlateNumber}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Registration Type</div>
                          <div>{{vehicleInformation?.RegistrationTypeDesc}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Year.Of.Manufacturing</div>
                          <div>{{vehicleInformation?.ManufactureYear}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Chassis No</div>
                          <div>{{vehicleInformation?.VehicleChassisNumber}}</div>
                        </li>

                      </ul>
                    </div>
                    <div class="col-6">
                      <ul class="list-group list-group-flush ">
                        <li class="list-group-item">
                          <div>Intimated Date</div>
                          <div>{{accidentInformation?.ClaimIntimatedDate}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Reserve Amount</div>
                          <div>{{commonInformation?.ReserveAmount}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>License Number</div>
                          <div>{{driverInformation?.LicenceNumber}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Date Of Birth</div>
                          <div>{{driverInformation?.DriverDateOfBirth}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Licence Valid Upto</div>
                          <div>{{driverInformation?.LicenceValidUpto}}</div>
                        </li>
                        <li class="list-group-item">
                          <div>Gender</div>
                          <div>{{driverInformation?.GenderDesc}}</div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="text-end my-2">
              <span class="view-more"  data-bs-toggle="collapse" data-bs-target="#demo">View More</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="vision-card">
    <div class="vision-card-body">
      <div class="view-claim-information">
        <div class="view-claim-information-item document-info">
          <div class="view-claim-information-item-title">
            <ng-container *ngIf="claimType == 'Receivable'">
              <span>Documents Submitted</span>
            </ng-container>
            <ng-container *ngIf="claimType == 'Payable'">
              <span>Documents Received</span>
            </ng-container>
            <span>
              <caraccident-icon></caraccident-icon>
            </span>
          </div>
          <div class="view-claim-information-item-body">
            <div class="d-md-flex flex-md-row p-3 document-preview">
              <div class="p-2 bg-light flex-fill">
                <div class="doc-preview">
                  <doc-down-icon></doc-down-icon>
                </div>
                <div class="doc-download">
                  Download
                </div>
              </div>
              <div class="p-2 bg-light flex-fill">
                <div class="doc-preview">
                  <doc-down-icon></doc-down-icon>
                </div>
                <div class="doc-download">
                  Download
                </div>
              </div>
              <div class="p-2 bg-light flex-fill">
                <div class="doc-preview">
                  <doc-down-icon></doc-down-icon>
                </div>
                <div class="doc-download">
                  Download
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="view-claim-information-item view-claim-information-status-item">
          <div class="view-claim-information-item-title">
            {{recoveryInformation?.InsuranceCompanyName}}
            <span>
              <telegram-icon></telegram-icon>
            </span>
          </div>
          <div class="view-claim-information-item-body">
            <div class="vision-grid-item">
              <div class="vision-grid-item-body">
                <ul class="list-group list-group-flush status-list">
                  <li class="list-group-item">
                    <div class="row fw-bold">
                      <div class="col-4">Description</div>
                      <div class="col-4">Date & Time</div>
                      <div class="col-4">Remarks</div>
                    </div>
                    <ng-container *ngFor="let item of recoveryTrackList">
                    <div class="row">
                      <div class="col-4">{{item?.StatusDesc}}</div>
                      <div class="col-4">{{item?.EntryDate}}</div>
                      <div class="col-4">{{item?.Remarks}}</div>
                    </div>
                  </ng-container>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="view-claim-information-item view-claim-information-status-item">
          <div class="view-claim-information-item-title">
            {{policyInformation?.InsuranceCompanyName}}
            <span>
              <telegram-icon></telegram-icon>
            </span>
          </div>
          <div class="view-claim-information-item-body">
            <div class="vision-grid-item">
              <div class="vision-grid-item-body">
                <ul class="list-group list-group-flush status-list">
                  <li class="list-group-item">
                    <div class="row fw-bold">
                      <div class="col-4">Description</div>
                      <div class="col-4">Date & Time</div>
                      <div class="col-4">Remarks</div>
                    </div>
                    <ng-container *ngFor="let item of ownerTrackList">
                    <div class="row">
                      <div class="col-4">{{item?.StatusDesc}}</div>
                      <div class="col-4">{{item?.EntryDate}}</div>
                      <div class="col-4">{{item?.Remarks}}</div>
                    </div>
                  </ng-container>
                  </li>
                </ul>

              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

</div>
